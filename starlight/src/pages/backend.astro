---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Backend (Node.js)">
  <h1 class="text-3xl font-bold mb-4">âš™ï¸ Backend - Node.js & Express.js</h1>

  <p class="mb-6">
    Esta secciÃ³n documenta el backend del restaurante desarrollado con <strong>Node.js</strong> y <strong>Express.js</strong>. La API gestiona usuarios, autenticaciÃ³n, productos, carrito de compras, pedidos, pagos y reseÃ±as.
  </p>

  <h2 class="text-2xl font-semibold mt-8 mb-2">ğŸ“ Estructura del proyecto</h2>
  <pre class="bg-gray-900 text-white p-4 rounded-xl overflow-x-auto text-sm"><code>
src/
â”œâ”€â”€ controllers/          # LÃ³gica de negocio (CRUD, autenticaciÃ³n, carrito, etc.)
â”œâ”€â”€ routes/               # DefiniciÃ³n de endpoints
â”œâ”€â”€ models/               # Modelos de datos (MongoDB: usuarios, productos, pedidos...)
â”œâ”€â”€ middlewares/          # Validaciones, autenticaciÃ³n JWT
â”œâ”€â”€ config/               # ConfiguraciÃ³n de base de datos y variables
server.js                 # Entrada principal del servidor
  </code></pre>

  <h2 class="text-2xl font-semibold mt-8 mb-2">ğŸš€ CÃ³mo ejecutar</h2>
  <pre class="bg-gray-800 text-white p-4 rounded-xl overflow-x-auto text-sm"><code>
npm install
npm run dev
  </code></pre>

  <h2 class="text-2xl font-semibold mt-8 mb-2">ğŸ” Variables de entorno (.env)</h2>
  <pre class="bg-gray-800 text-white p-4 rounded-xl overflow-x-auto text-sm"><code>
PORT=3000
MONGO_URI=mongodb+srv://<usuario>:<contraseÃ±a>@cluster.mongodb.net/dbname
JWT_SECRET=clave_super_segura
STRIPE_SECRET_KEY=clave_para_pagos
  </code></pre>

  <h2 class="text-2xl font-semibold mt-8 mb-2">ğŸ“¨ Endpoints principales</h2>
  <ul class="list-disc list-inside space-y-2">
    <li><code>POST /api/register</code> â€“ Registro de nuevo usuario</li>
    <li><code>POST /api/login</code> â€“ Inicio de sesiÃ³n</li>
    <li><code>GET /api/products</code> â€“ Obtener listado de productos</li>
    <li><code>POST /api/cart</code> â€“ AÃ±adir producto al carrito</li>
    <li><code>GET /api/cart</code> â€“ Ver carrito actual</li>
    <li><code>POST /api/orders</code> â€“ Crear nuevo pedido</li>
    <li><code>POST /api/reviews</code> â€“ AÃ±adir reseÃ±a a un producto</li>
    <li><code>POST /api/pay</code> â€“ Procesar pago</li>
    <li><code>GET /api/users/:id</code> â€“ Obtener informaciÃ³n del usuario</li>
  </ul>
</Layout>
